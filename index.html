<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>

    </style>

    <!-- ReactJS -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

    <!-- Babel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head>

<body>

    <div id="root"></div>

    <script type="text/babel">
        const Partials = {}

        Partials.Header = function (props) {
            return (
                <div className="alert alert-primary text-center" role="alert">
                    {props.text}
                </div>
            )
        }

        Partials.ButtonGroup = function (props) {
            // contoh:
            // <button className="btn btn-primary" type="button">Button</button>
            return (
                <div className="d-flex justify-content-around container">
                    {props.Button2 ? (
                        <React.Fragment>
                            <props.Button1 />
                            <props.Button2 />
                        </React.Fragment>
                    ) : (
                        <props.Button1 />
                    )}
                </div>
            )
        }

        Partials.Footer = function () {
            return (
                <nav className="navbar bg-dark border-bottom border-body fixed-bottom text-center">
                    <div className="container-fluid justify-content-center">
                        <span className="navbar-text text-white">
                            Copyright PT Pendidikan Abdi Negara | Panara Course
                        </span>
                    </div>
                </nav>
            )
        }
    </script>

    <script type="text/babel">
        const Pages = {}

        Pages.Home = function () {
            function Button1() {
                return <button className="btn btn-primary" type="button">Cek Kedinasan Sekolahmu</button>
            }

            function Button2() {
                return <button className="btn btn-primary" type="button">Tes Buta Warna</button>
            }

            return (
                <div className="container card">
                    <Partials.Header text="Aplikasi Pintar Pemilihan Sekolah Kedinasan" />
                    <p>Tentukan Sekolah Kedinasan mu secara tepat dengan software rekomendasi ini !!!</p>

                    <Partials.ButtonGroup Button1={() => <Button1 />} Button2={() => <Button2 />} />
                </div>
            )
        }

        Pages.About = function () {
            return <div><h1>About</h1></div>
        }

        Pages.Coba = function () {
            return <div><h1>Coba</h1></div>
        }

        Pages.TebakKarakterButaWarna = function () {
            // TODO membuat hingga 20
            // TODO mengatur gambar
            const [questions] = React.useState([
                { image: "1", answer: "X" },
                { image: "2", answer: "Q" },
                { image: "3", answer: "99" },
                { image: "4", answer: "9" },
                { image: "5", answer: "62" },
                { image: "6", answer: "98" },
            ]);

            const [results, setResults] = React.useState([]);
            const [currentQuestion, setCurrentQuestion] = React.useState(0);
            const [userAnswer, setUserAnswer] = React.useState('');

            const handleSubmit = () => {
                const question = questions[currentQuestion];
                const result = {
                    questionIndex: question.image,
                    correctAnswer: question.answer,
                    userAnswer: userAnswer.toUpperCase(),
                    result: userAnswer.toUpperCase() === question.answer ? 'Correct' : 'Incorrect'
                };
                setResults([...results, result]);
                setUserAnswer('');

                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                }
            };

            return (
                <div>
                    <div className="container p-5 card">
                        <h1 className="mb-4 text-center">Test Kebutaan Warna</h1>
                        <hr />
                        <div className="card p-2 text-center mb-2">
                            <ul>
                                <li>Terdiri dari 5 pertanyaan berurutan yang diacak (tiap kali refresh)</li>
                                <li>Hasil akan tampil setelah menjawab 5 pertanyaan</li>
                            </ul>
                        </div>
                        {currentQuestion < questions.length - 1 ? (
                            <div className="mb-3 text-center">
                                <img src={`images/image${questions[currentQuestion].image}.jpg`} className="img-fluid" alt={`Question ${questions[currentQuestion].image}`} />
                                <label htmlFor="answer" className="form-label">Masukkan huruf atau angka yang terlihat:</label>
                                <input
                                    type="text"
                                    className="form-control"
                                    id="answer"
                                    name="answer"
                                    value={userAnswer}
                                    onChange={(e) => setUserAnswer(e.target.value)}
                                />
                                <button
                                    type="button"
                                    className="btn btn-primary mt-2"
                                    onClick={handleSubmit}
                                >
                                    Ok
                                </button>
                            </div>
                        ) : (
                            <div id="resultTable">
                                <h2 className="text-center">Hasil</h2>
                                <table className="table">
                                    <thead>
                                        <tr>
                                            <th>Question</th>
                                            <th>Image</th>
                                            <th>Correct Answer</th>
                                            <th>Your Answer</th>
                                            <th>Result</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {results.map((result, index) => (
                                            <tr key={index}>
                                                <td>{index + 1}</td>
                                                <td><img src={`images/image${result.questionIndex}.jpg`} className="img-fluid result" alt={`Question ${result.questionIndex}`} /></td>
                                                <td>{result.correctAnswer}</td>
                                                <td>{result.userAnswer ? result.userAnswer : '-'}</td>
                                                <td>{result.result}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        )}
                        <hr />
                        <button onClick={() => navigatge('/')} className="btn btn-primary">Home</button>
                    </div>
                </div>
            )
        }

        Pages.ApakahKamuButaWarna = function () {
            return (
                <div className="container card">
                    <Partials.Header text="YUK CEK SEKOLAH APAKAH KAMU BUTA WARNA?" />
                    <p>Tentukan Sekolah Kedinasan mu secara tepat dengan software rekomendasi ini !!!</p>

                    <div className="d-flex justify-content-evenly">
                    </div>
                </div>
            )
        }
    </script>

    <script type="text/babel">
        // Komponen App
        function App() {
            // State untuk menentukan halaman yang sedang aktif
            const [activePage, setActivePage] = React.useState("home");

            // Daftar semua halaman dengan kontennya
            const pages = {
                home: () => <Pages.Home />,
                about: () => <Pages.About />,
                coba: () => <Pages.Coba />,
                testButaWarna: () => <Pages.TebakKarakterButaWarna />
                // Anda bisa menambahkan halaman lain di sini
            };

            // Fungsi untuk menampilkan halaman yang dipilih
            const showPage = (page) => {
                setActivePage(page);
            };

            // Mendapatkan komponen dari halaman yang aktif
            const ActiveComponent = pages[activePage];

            return (
                <div>
                    {/* Navigasi dinamis */}
                    <ul>
                        {Object.keys(pages).map((page) => (
                            <li key={page}>
                                <button onClick={() => showPage(page)}>{page}</button>
                            </li>
                        ))}
                    </ul>
                    {/* Konten dari halaman yang aktif */}
                    <ActiveComponent />
                    <Partials.Footer />
                </div>
            );
        }
    </script>

    <script type="text/babel">
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>

</body>

</html>